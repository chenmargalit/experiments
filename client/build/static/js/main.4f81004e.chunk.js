(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{203:function(e,t,a){e.exports=a(402)},233:function(e,t,a){},402:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(8),c=a.n(o),s=(a(208),a(29)),l=a(12),i=a.n(l),u=a(26),m=a(36),d=a(54),p=a.n(d),h=function(e,t){return function(){var a=Object(u.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.post("http://localhost:5000/create/add_weight",e);case 3:r=a.sent,console.log(r.data),t("/home"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),a.t0.response&&console.log(a.t0.response.data);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},f=function(){return function(){var e=Object(u.a)(i.a.mark((function e(t){var a,n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,a=window.localStorage.getItem("token"),e.next=4,p.a.post("http://localhost:5000/fetch/get_data",{token:a});case 4:n=e.sent,t({type:"FETCH_DATA",payload:n.data}),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),e.t0.response?t({type:"MAIN_ERROR",payload:e.t0.response.data}):console.log("problem with getData client side",e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})));return function(t){return e.apply(this,arguments)}}()},g=a(31),y=a(407),E=a(179),b=a(403),v=(a(233),function(){var e=Object(n.useState)(!1),t=Object(m.a)(e,2),a=t[0],o=t[1],c=Object(n.useState)(""),s=Object(m.a)(c,2),l=s[0],d=(s[1],Object(g.c)((function(e){return e.data}))),p=Object(g.c)((function(e){return e.errors.error})),h=(Object(g.c)((function(e){return e.users.email})),Object(g.b)());Object(n.useEffect)((function(){function e(){return(e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,h(f());case 2:o(!1);case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}o(!0),function(){e.apply(this,arguments)}()}),[h]);var v=function(){var e=Object(u.a)(i.a.mark((function e(){return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:d.data.map((function(e){return e.gap_from_yesterday<0?e.feeling="\ud83d\ude01":e.feeling="\ud83d\ude22"}));case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();d.data&&d.data.length>0&&v()&&console.log(d.data);return r.a.createElement("div",{style:{margin:30}},r.a.createElement("h1",null,"Home ",l),a?r.a.createElement(E.a,{size:"large",className:"spinner"}):p?r.a.createElement("h1",null,r.a.createElement(y.a,{message:"an Issue has occurred",description:p,type:"error"})):r.a.createElement("div",null,d.data&&d.data.length>0&&r.a.createElement(b.a,{rowClassName:function(e,t){return e.gap_from_yesterday<0?"lost":"gained"},bordered:!0,scroll:!0,pagination:!1,rowKey:function(e){return Math.random()},columns:[{title:"Date",dataIndex:"fullDate",key:"fullDate"},{title:"Day of week",dataIndex:"day",key:"day"},{title:"Weight",dataIndex:"weight",key:"weight"},{title:"Gap from yesterday",dataIndex:"gap_from_yesterday",key:"yesterday_gap"},{title:"Exercise",dataIndex:"exercise",key:"exercise"},{title:"Gap_from_beginning",dataIndex:"gap_from_beginning",key:"beginning_gap"},{title:"comment",dataIndex:"comment",key:"comment"},{title:"feeling",dataIndex:"feeling",key:"feeling"}],dataSource:d.data})))}),w=a(404),O=a(405),k=a(406),x=a(105),j=a(37),I=function(e){var t=Object(g.b)(),a=Object(n.useState)(!1),o=Object(m.a)(a,2),c=(o[0],o[1]),s=Object(n.useState)(""),l=Object(m.a)(s,2),i=(l[0],l[1]),u=Object(g.c)((function(e){return e.users.email})),d=Object(g.c)((function(e){return e.errors.error}));console.log("errors is",d),Object(n.useEffect)((function(){i(d)}),[d]);var p=function(a){u.length>0&&(a.email=u),t(e.action(a,e.reDirect))},h=function(e){console.log("Failed:",e)};return r.a.createElement("div",null,r.a.createElement("div",null,d&&r.a.createElement("h3",{style:{color:"#ff4d4f"}},d),r.a.createElement("div",null,r.a.createElement(w.a,{name:"basic",onFinish:p,onFinishFailed:h},e.email&&r.a.createElement(w.a.Item,{type:"email",label:"email",name:"email",rules:[{required:!0,type:"email",message:"please insert a valid email"}]},r.a.createElement(O.a,null)),e.password&&r.a.createElement(w.a.Item,{label:"Password",name:"password",rules:[{required:!0,message:"Please input your password!"}]},r.a.createElement(O.a.Password,null)),e.confirmPassword&&r.a.createElement(w.a.Item,{name:"confirm",label:"Confirm Password",dependencies:["password"],hasFeedback:!0,rules:[{required:!0,message:"Please confirm your password!"},function(e){var t=e.getFieldValue;return{validator:function(e,a){return a&&t("password")!==a?Promise.reject("The two passwords that you entered do not match!"):Promise.resolve()}}}]},r.a.createElement(O.a.Password,null)),e.weight&&r.a.createElement(w.a.Item,{label:"Weight",name:"weight",rules:[{required:!0,message:"Please input weight in numbers"}]},r.a.createElement(k.a,null)),e.comment&&r.a.createElement(w.a.Item,{label:"Comment",name:"comment"},r.a.createElement(O.a.TextArea,null)),e.exercise&&r.a.createElement(w.a.Item,{rules:[{required:!0,message:"We're on to you, say it !"}],name:"exercise",label:"Did you exercise?",style:{marginBottom:20},colon:!1},r.a.createElement(x.a.Group,null,r.a.createElement(x.a,{value:!0,onChange:function(){return c(!0)}},"Yes"),r.a.createElement(x.a,{value:!1,onChange:function(){return c(!1)}},"No"))),r.a.createElement(w.a.Item,null,r.a.createElement(j.a,{type:"primary",htmlType:"submit",size:"large",style:{borderRadius:"10%"}},"Submit"))))))},_=function(e){return r.a.createElement("div",{id:"abc"},r.a.createElement("div",null,r.a.createElement("h1",null,"Enter your data")),r.a.createElement(I,{exercise:!0,weight:!0,comment:!0,action:h,reDirect:e.history.push}))},R=function(e,t){switch(console.log("errorCode is",t),t){case 401:return e({type:"NOT_AUTHORIZED_ERROR",payload:"Could not find a user with this password"});case 500:return e({type:"MAIN_ERROR",payload:"Problem processing request"})}},D=function(e,t){return function(){var a=Object(u.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.post("http://localhost:5000/users/signUp",e);case 3:r=a.sent,r.data,t("/signin"),a.next=11;break;case 8:a.prev=8,a.t0=a.catch(0),console.log("problem with signing up on client side",a.t0);case 11:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},A=function(e,t){return function(){var a=Object(u.a)(i.a.mark((function a(n){var r;return i.a.wrap((function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,p.a.post("http://localhost:5000/users/signIn",e);case 3:r=a.sent,window.localStorage.setItem("token",r.data.token),t("/home"),a.next=13;break;case 8:if(a.prev=8,a.t0=a.catch(0),!a.t0.response){a.next=12;break}return a.abrupt("return",(console.log("response code",a.t0.response.status),R(n,a.t0.response.status)));case 12:console.log("problem with signin",a.t0);case 13:case"end":return a.stop()}}),a,null,[[0,8]])})));return function(e){return a.apply(this,arguments)}}()},S=function(e){return r.a.createElement("div",{style:{margin:30}},r.a.createElement(I,{email:!0,password:!0,action:A,reDirect:e.history.push}),r.a.createElement("h3",null,"Dont have an account ? sign up ",r.a.createElement(s.b,{to:"/signup"},"Here")))},T=function(e){return r.a.createElement("div",{style:{margin:20}},r.a.createElement("h1",null,"Register"),r.a.createElement(I,{email:!0,password:!0,confirmPassword:!0,action:D,reDirect:e.history.push}))},P=a(60),C=function(){return r.a.createElement("div",null,r.a.createElement(P.a,{mode:"horizontal",selectedKeys:window.location.pathname},r.a.createElement(P.a.Item,{key:"/signin"},r.a.createElement(s.b,{to:"/signin"},"Signin")),r.a.createElement(P.a.Item,{key:"/home"},r.a.createElement(s.b,{to:"/home"},"Home")),r.a.createElement(P.a.Item,{key:"/add-check"},r.a.createElement(s.b,{to:"/add-check"},"Add check"))))};var F=function(){return r.a.createElement("div",null,r.a.createElement(s.a,null,r.a.createElement(n.Fragment,null,r.a.createElement(C,null),r.a.createElement(s.c,{path:"/home",exact:!0,component:v}),r.a.createElement(s.c,{path:"/add-check",component:_}),r.a.createElement(s.c,{path:"/signin",component:S}),r.a.createElement(s.c,{path:"/signup",component:T}))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var H=a(55),N=a(49),q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"MAIN_ERROR":return console.log("reducer - main error"),Object(N.a)({},e,{error:t.payload});case"NOT_AUTHORIZED_ERROR":return console.log("reducer - not authorized"),Object(N.a)({},e,{error:t.payload});default:return e}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FETCH_DATA":case"ADD_DATA":return Object(N.a)({},e,{data:t.payload});default:return e}},W=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{email:""},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"USER_AUTH":return console.log("signin working in usersReducer"),Object(N.a)({},e,{email:t.payload});default:return e}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SUCCESS":return console.log("some success happened"),{state:t.payload};default:return e}},M=Object(H.c)({data:U,errors:q,users:W,success:z}),B=a(199),G=Object(H.d)(M,Object(H.a)(B.a));c.a.render(r.a.createElement(g.a,{store:G},r.a.createElement(F,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[203,1,2]]]);
//# sourceMappingURL=main.4f81004e.chunk.js.map