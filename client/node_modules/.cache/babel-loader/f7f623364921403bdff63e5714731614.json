{"ast":null,"code":"import axios from 'axios';\nimport { MAIN_ERROR, FETCH_DATA } from './types';\nexport const addData = (data, reDirect) => async dispatch => {\n  try {\n    const res = await axios.post('http://localhost:5000/create/add_weight', data);\n    console.log(res.data);\n    reDirect('/home');\n  } catch (e) {\n    e.response && console.log(e.response.data);\n  }\n};\nexport const getData = () => async dispatch => {\n  try {\n    const token = window.localStorage.getItem('token'); // const res = await axios('http://localhost:5000/fetch/get_data', {\n    //   method: 'POST',\n    //   headers: { Authorization: `Bearer + ${token}` },\n    // });\n\n    const res = await axios.post('http://localhost:5000/fetch/get_data', {\n      token\n    });\n    dispatch({\n      type: FETCH_DATA,\n      payload: res.data\n    });\n  } catch (e) {\n    e.response ? dispatch({\n      type: MAIN_ERROR,\n      payload: e.response.data\n    }) : console.log('problem with getData client side', e);\n  }\n};","map":{"version":3,"sources":["/Users/chenmargalit/Desktop/weightWpa/client/src/actions/index.js"],"names":["axios","MAIN_ERROR","FETCH_DATA","addData","data","reDirect","dispatch","res","post","console","log","e","response","getData","token","window","localStorage","getItem","type","payload"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,UAArB,QAAuC,SAAvC;AAEA,OAAO,MAAMC,OAAO,GAAG,CAACC,IAAD,EAAOC,QAAP,KAAoB,MAAOC,QAAP,IAAoB;AAC7D,MAAI;AACF,UAAMC,GAAG,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,yCAAX,EAAsDJ,IAAtD,CAAlB;AACAK,IAAAA,OAAO,CAACC,GAAR,CAAYH,GAAG,CAACH,IAAhB;AACAC,IAAAA,QAAQ,CAAC,OAAD,CAAR;AACD,GAJD,CAIE,OAAOM,CAAP,EAAU;AACVA,IAAAA,CAAC,CAACC,QAAF,IAAcH,OAAO,CAACC,GAAR,CAAYC,CAAC,CAACC,QAAF,CAAWR,IAAvB,CAAd;AACD;AACF,CARM;AAUP,OAAO,MAAMS,OAAO,GAAG,MAAM,MAAOP,QAAP,IAAoB;AAC/C,MAAI;AACF,UAAMQ,KAAK,GAAGC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAd,CADE,CAEF;AACA;AACA;AACA;;AACA,UAAMV,GAAG,GAAG,MAAMP,KAAK,CAACQ,IAAN,CAAW,sCAAX,EAAmD;AAAEM,MAAAA;AAAF,KAAnD,CAAlB;AAEAR,IAAAA,QAAQ,CAAC;AAAEY,MAAAA,IAAI,EAAEhB,UAAR;AAAoBiB,MAAAA,OAAO,EAAEZ,GAAG,CAACH;AAAjC,KAAD,CAAR;AACD,GATD,CASE,OAAOO,CAAP,EAAU;AACVA,IAAAA,CAAC,CAACC,QAAF,GACIN,QAAQ,CAAC;AAAEY,MAAAA,IAAI,EAAEjB,UAAR;AAAoBkB,MAAAA,OAAO,EAAER,CAAC,CAACC,QAAF,CAAWR;AAAxC,KAAD,CADZ,GAEIK,OAAO,CAACC,GAAR,CAAY,kCAAZ,EAAgDC,CAAhD,CAFJ;AAGD;AACF,CAfM","sourcesContent":["import axios from 'axios';\nimport { MAIN_ERROR, FETCH_DATA } from './types';\n\nexport const addData = (data, reDirect) => async (dispatch) => {\n  try {\n    const res = await axios.post('http://localhost:5000/create/add_weight', data);\n    console.log(res.data);\n    reDirect('/home');\n  } catch (e) {\n    e.response && console.log(e.response.data);\n  }\n};\n\nexport const getData = () => async (dispatch) => {\n  try {\n    const token = window.localStorage.getItem('token');\n    // const res = await axios('http://localhost:5000/fetch/get_data', {\n    //   method: 'POST',\n    //   headers: { Authorization: `Bearer + ${token}` },\n    // });\n    const res = await axios.post('http://localhost:5000/fetch/get_data', { token });\n\n    dispatch({ type: FETCH_DATA, payload: res.data });\n  } catch (e) {\n    e.response\n      ? dispatch({ type: MAIN_ERROR, payload: e.response.data })\n      : console.log('problem with getData client side', e);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}