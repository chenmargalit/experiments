{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chenmargalit/Desktop/weightWpa/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chenmargalit/Desktop/weightWpa/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import axios from'axios';import{MAIN_ERROR,FETCH_DATA}from'./types';export var addData=function addData(data,reDirect){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('http://localhost:5000/create/add_weight',data);case 3:res=_context.sent;console.log(res.data);reDirect('/home');_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);_context.t0.response&&console.log(_context.t0.response.data);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var getData=function getData(){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var token,res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;token=window.localStorage.getItem('token');// const res = await axios('http://localhost:5000/fetch/get_data', {\n//   method: 'POST',\n//   headers: { Authorization: `Bearer + ${token}` },\n// });\n_context2.next=4;return axios.post('http://localhost:5000/fetch/get_data',{token:token});case 4:res=_context2.sent;dispatch({type:FETCH_DATA,payload:res.data});_context2.next=11;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);_context2.t0.response?dispatch({type:MAIN_ERROR,payload:_context2.t0.response.data}):console.log('problem with getData client side',_context2.t0);case 11:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/chenmargalit/Desktop/weightWpa/client/src/actions/index.js"],"names":["axios","MAIN_ERROR","FETCH_DATA","addData","data","reDirect","dispatch","post","res","console","log","response","getData","token","window","localStorage","getItem","type","payload"],"mappings":"2PAAA,MAAOA,CAAAA,KAAP,KAAkB,OAAlB,CACA,OAASC,UAAT,CAAqBC,UAArB,KAAuC,SAAvC,CAEA,MAAO,IAAMC,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,CAACC,IAAD,CAAOC,QAAP,iGAAoB,iBAAOC,QAAP,gKAErBN,CAAAA,KAAK,CAACO,IAAN,CAAW,yCAAX,CAAsDH,IAAtD,CAFqB,QAEjCI,GAFiC,eAGvCC,OAAO,CAACC,GAAR,CAAYF,GAAG,CAACJ,IAAhB,EACAC,QAAQ,CAAC,OAAD,CAAR,CAJuC,+EAMvC,YAAEM,QAAF,EAAcF,OAAO,CAACC,GAAR,CAAY,YAAEC,QAAF,CAAWP,IAAvB,CAAd,CANuC,oEAApB,gEAAhB,CAUP,MAAO,IAAMQ,CAAAA,OAAO,CAAG,QAAVA,CAAAA,OAAU,mGAAM,kBAAON,QAAP,qJAEnBO,KAFmB,CAEXC,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAFW,CAGzB;AACA;AACA;AACA;AANyB,uBAOPhB,CAAAA,KAAK,CAACO,IAAN,CAAW,sCAAX,CAAmD,CAAEM,KAAK,CAALA,KAAF,CAAnD,CAPO,QAOnBL,GAPmB,gBASzBF,QAAQ,CAAC,CAAEW,IAAI,CAAEf,UAAR,CAAoBgB,OAAO,CAAEV,GAAG,CAACJ,IAAjC,CAAD,CAAR,CATyB,mFAWzB,aAAEO,QAAF,CACIL,QAAQ,CAAC,CAAEW,IAAI,CAAEhB,UAAR,CAAoBiB,OAAO,CAAE,aAAEP,QAAF,CAAWP,IAAxC,CAAD,CADZ,CAEIK,OAAO,CAACC,GAAR,CAAY,kCAAZ,cAFJ,CAXyB,sEAAN,kEAAhB","sourcesContent":["import axios from 'axios';\nimport { MAIN_ERROR, FETCH_DATA } from './types';\n\nexport const addData = (data, reDirect) => async (dispatch) => {\n  try {\n    const res = await axios.post('http://localhost:5000/create/add_weight', data);\n    console.log(res.data);\n    reDirect('/home');\n  } catch (e) {\n    e.response && console.log(e.response.data);\n  }\n};\n\nexport const getData = () => async (dispatch) => {\n  try {\n    const token = window.localStorage.getItem('token');\n    // const res = await axios('http://localhost:5000/fetch/get_data', {\n    //   method: 'POST',\n    //   headers: { Authorization: `Bearer + ${token}` },\n    // });\n    const res = await axios.post('http://localhost:5000/fetch/get_data', { token });\n\n    dispatch({ type: FETCH_DATA, payload: res.data });\n  } catch (e) {\n    e.response\n      ? dispatch({ type: MAIN_ERROR, payload: e.response.data })\n      : console.log('problem with getData client side', e);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}