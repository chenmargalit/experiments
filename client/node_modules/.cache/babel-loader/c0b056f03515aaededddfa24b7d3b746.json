{"ast":null,"code":"import _regeneratorRuntime from\"/Users/chenmargalit/Desktop/weightWpa/client/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"/Users/chenmargalit/Desktop/weightWpa/client/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import{USER_AUTH}from'./types';import axios from'axios';import errorTypeFunc from'../utils/reducerErrorsHandler';import{NOT_AUTHORIZED}from'./types';export var signup=function signup(data,reDirect){return/*#__PURE__*/function(){var _ref=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(dispatch){var res,result;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return axios.post('http://localhost:5000/users/signUp',data);case 3:res=_context.sent;result=res.data;reDirect('/signin');_context.next=11;break;case 8:_context.prev=8;_context.t0=_context[\"catch\"](0);console.log('problem with signing up on client side',_context.t0);case 11:case\"end\":return _context.stop();}}},_callee,null,[[0,8]]);}));return function(_x){return _ref.apply(this,arguments);};}();};export var signin=function signin(data,reDirect){return/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(dispatch){var res;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.prev=0;_context2.next=3;return axios.post('http://localhost:5000/users/signIn',data);case 3:res=_context2.sent;window.localStorage.setItem('token',res.data.token);// dispatch({ type: USER_AUTH, payload: res.data.email });\nreDirect('/home');_context2.next=13;break;case 8:_context2.prev=8;_context2.t0=_context2[\"catch\"](0);if(!_context2.t0.response){_context2.next=12;break;}return _context2.abrupt(\"return\",(console.log('response code',_context2.t0.response.status),errorTypeFunc(dispatch,_context2.t0.response.status)));case 12:console.log('problem with signin',_context2.t0);case 13:case\"end\":return _context2.stop();}}},_callee2,null,[[0,8]]);}));return function(_x2){return _ref2.apply(this,arguments);};}();};","map":{"version":3,"sources":["/Users/chenmargalit/Desktop/weightWpa/client/src/actions/usersActions.js"],"names":["USER_AUTH","axios","errorTypeFunc","NOT_AUTHORIZED","signup","data","reDirect","dispatch","post","res","result","console","log","signin","window","localStorage","setItem","token","response","status"],"mappings":"2PAAA,OAASA,SAAT,KAA0B,SAA1B,CACA,MAAOC,CAAAA,KAAP,KAAkB,OAAlB,CACA,MAAOC,CAAAA,aAAP,KAA0B,+BAA1B,CACA,OAASC,cAAT,KAA+B,SAA/B,CAEA,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,IAAD,CAAOC,QAAP,iGAAoB,iBAAOC,QAAP,uKAEpBN,CAAAA,KAAK,CAACO,IAAN,CAAW,oCAAX,CAAiDH,IAAjD,CAFoB,QAEhCI,GAFgC,eAGhCC,MAHgC,CAGvBD,GAAG,CAACJ,IAHmB,CAItCC,QAAQ,CAAC,SAAD,CAAR,CAJsC,+EAMtCK,OAAO,CAACC,GAAR,CAAY,wCAAZ,cANsC,oEAApB,gEAAf,CAUP,MAAO,IAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACR,IAAD,CAAOC,QAAP,kGAAoB,kBAAOC,QAAP,sKAEpBN,CAAAA,KAAK,CAACO,IAAN,CAAW,oCAAX,CAAiDH,IAAjD,CAFoB,QAEhCI,GAFgC,gBAGtCK,MAAM,CAACC,YAAP,CAAoBC,OAApB,CAA4B,OAA5B,CAAqCP,GAAG,CAACJ,IAAJ,CAASY,KAA9C,EACA;AACAX,QAAQ,CAAC,OAAD,CAAR,CALsC,uFAOlC,aAAEY,QAPgC,6DASlCP,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA6B,aAAEM,QAAF,CAAWC,MAAxC,EAAiDjB,aAAa,CAACK,QAAD,CAAW,aAAEW,QAAF,CAAWC,MAAtB,CAT5B,WAYtCR,OAAO,CAACC,GAAR,CAAY,qBAAZ,eAZsC,sEAApB,kEAAf","sourcesContent":["import { USER_AUTH } from './types';\nimport axios from 'axios';\nimport errorTypeFunc from '../utils/reducerErrorsHandler';\nimport { NOT_AUTHORIZED } from './types';\n\nexport const signup = (data, reDirect) => async (dispatch) => {\n  try {\n    const res = await axios.post('http://localhost:5000/users/signUp', data);\n    const result = res.data;\n    reDirect('/signin');\n  } catch (e) {\n    console.log('problem with signing up on client side', e);\n  }\n};\n\nexport const signin = (data, reDirect) => async (dispatch) => {\n  try {\n    const res = await axios.post('http://localhost:5000/users/signIn', data);\n    window.localStorage.setItem('token', res.data.token);\n    // dispatch({ type: USER_AUTH, payload: res.data.email });\n    reDirect('/home');\n  } catch (e) {\n    if (e.response) {\n      return (\n        console.log('response code', e.response.status), errorTypeFunc(dispatch, e.response.status)\n      );\n    }\n    console.log('problem with signin', e);\n  }\n};\n"]},"metadata":{},"sourceType":"module"}